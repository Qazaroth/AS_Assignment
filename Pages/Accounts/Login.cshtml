@page
@model AS_Assignment.Pages.Accounts.LoginModel
@{
    ViewData["Title"] = "Login";
}
    <script src="https://www.google.com/recaptcha/api.js?render=site"></script>
    <script>
        grecaptcha.ready(function () {
            grecaptcha.execute("site", { action: "homepage" }).then(function (token) {
                document.getElementById("foo").value = token;
            });
        })
    </script>
<div class="modal-body row">
    <!-- Login Form -->
    <div class="col-md-6">
        <form method="post">
            <fieldset>
                <h2>@ViewData["Title"]</h2>
                <p class="text-danger">@Model.error</p>
                <div class="form-group">
                    <label for="inputEmail" class="form-label mt-4">Email address</label>
                    <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp" asp-for="email" />
                    <span asp-validation-for="email" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="inputPassword" class="form-label mt-4">Password</label>
                    <input type="password" class="form-control" id="inputPass" asp-for="password" />
                    <span asp-validation-for="password" class="text-danger"></span>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" onclick="showPass();" id="showPassCheck">
                        <label class="form-check-label" for="showPassCheck">
                            Show Password
                        </label>
                    </div>
                </div>
                <br />
                <button type="submit" class="btn btn-primary">Submit</button>
                <br /><br />
                <!--<div class="g-recaptcha" data-sitekey=""></div>
                -->

                <input type="hidden" id="foo" name="foo" />
            </fieldset>
        </form>
    </div>
    <!-- Show some other content -->
    <div class="col-md-6">
    </div>
</div>

@section Scripts{
    <script type="text/javascript">
        let k = @Model.;
        function showPass() {
            let cbChecked = document.getElementById("showPassCheck").checked;
            let pass = document.getElementById("inputPass");

            if (cbChecked) pass.type = "text";
            else pass.type = "password";
        }
    </script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
} 